$(() => {
  generatePassword();
  avatarCustomUploadButton();
});


let generatePassword = function() {
  document.getElementById("password_button").addEventListener("click", function(e) {
    e.preventDefault();
    e.stopPropagation();
    let token = Math.random().toString(36).slice(2);
    document.getElementById("user_password").value = token;
  });
}

let avatarCustomUploadButton = function() {
  let avatarRealInput = document.getElementById("user_avatar");
  let avatarCustomUploadButton = document.getElementById("avatar_button");
  let avatarCustomMetaInfo = document.getElementById("avatar_meta");

  avatarCustomUploadButton.addEventListener("click", function(e) {
    e.preventDefault();
    e.stopPropagation();
    avatarRealInput.click();
  });

  avatarRealInput.addEventListener("change", function(e) {
    e.preventDefault();
    e.stopPropagation();
    avatarCustomMetaInfo.innerHTML = avatarRealInput.files[0].name;
  });
}
