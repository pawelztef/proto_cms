import Rails from 'rails-ujs';
$(() => { 
  window.Pz = window.Pz || {}

  Pz.mediaDeleteLinksInit = function(links, rest_method) {
    if(links != null) {
      Array.from(links).forEach((link) => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          e.stopPropagation();
          const ln = link.getAttribute("href");
          Rails.ajax({
            url: ln, 
            type: rest_method,
            success: function(data) {
              mediaCards = document.getElementsByClassName("uk-card-media");
              window.Pz.mediaCardsInit(mediaCards);
            },
          });
        })
      })
    } else {
      console.log("delete links not instantiated")
    }
  }

})
